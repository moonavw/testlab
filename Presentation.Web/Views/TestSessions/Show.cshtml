@model TestLab.Domain.TestSession

@{
    ViewBag.Title = "Test Session";
}

<div>
    <h2>Test Session</h2>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }, new { @class = "btn btn-default" })
    @Html.Partial("_ShowAudit", Model)
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Summary)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Summary)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Build)
        </dt>

        <dd>
            @Model.Build
        </dd>
    </dl>
    @Html.Partial("_ShowStartInfo", Model)
</div>
@Html.Partial("_ShowAgent", Model.Agent)

@if(Model.Started==null || Model.Completed!=null)
{
<p>
    @Html.ActionLink("Start The Session", "Start", "TestSessions", new { id = Model.Id, testprojectId = Model.Project.Id }, new { @class = "btn btn-success ajax-post" })
</p>
}

@Html.Partial("../TestRuns/Index", Model.Runs)

@section nav{
    <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Projects <span class="caret"></span></a>
        <ul class="dropdown-menu">
            <li>@Html.ActionLink("List", "Index", "TestProjects", null, null)</li>
            <li>@Html.ActionLink(Model.Project.Name, "Show", "TestProjects", new { id = Model.Project.Id }, null)</li>
        </ul>
    </li>
    <li>@Html.ActionLink("Cases", "Index", "TestCases", new { testprojectId = Model.Project.Id }, null)</li>
    <li>@Html.ActionLink("Plans", "Index", "TestPlans", new { testprojectId = Model.Project.Id }, null)</li>
    <li class="dropdown active">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Sessions <span class="caret"></span></a>
        <ul class="dropdown-menu">
            <li>@Html.ActionLink("List", "Index", "TestSessions", new { testprojectId = Model.Project.Id }, null)</li>
            <li class="active">@Html.ActionLink(Model.Name, "Show", "TestSessions", new { id = Model.Id, testprojectId = Model.Project.Id }, null)</li>
        </ul>
    </li>
}